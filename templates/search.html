{% extends "base.html" %}
{% block title %}æœå°‹æ¨‚è­œ{% endblock %}

{% block content %}
<h2 class="mb-4">æœå°‹æ¨‚è­œ</h2>

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="alert alert-warning">
      {% for message in messages %}
        <div>{{ message }}</div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<form method="POST">
  <input class="form-control mb-3" name="keyword" placeholder="è¼¸å…¥ æ¨™é¡Œã€ä½œè€… æˆ– æ­Œè©" value="{{ request.form.keyword or '' }}" autofocus>
  <button type="submit" class="btn btn-outline-success">æœå°‹</button>
</form>

{% if results %}
  <ul class="list-group mt-4">
    {% for sheet in results %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <span>{{ sheet.title }} by {{ sheet.author }}</span>
      <a class="btn btn-outline-secondary btn-sm" href="{{ url_for('search.download', id=sheet.id) }}">ä¸‹è¼‰</a>
    </li>
    {% endfor %}
  </ul>
{% elif results is not none %}
  <p class="text-muted mt-4">ğŸ˜¢ æ‰¾ä¸åˆ°ç¬¦åˆæ¢ä»¶çš„æ¨‚è­œã€‚</p>
{% endif %}
{% endblock %}
